# OCWatch - OpenCode Activity Monitor

OCWatch is a real-time web dashboard for monitoring OpenCode agent activity. It provides insights into agent modes, session hierarchies, tool call activity, and plan progress through an intuitive web interface.

## Features

- **Real-time agent monitoring**: See exactly which agents are active and what they are doing.
- **Web dashboard**: Interactive dashboard accessible in your browser.
- **Session tracking**: Visual representation of the session â†’ agents hierarchy.
- **Plan progress**: Integrated tracking of plan progress from `.sisyphus/boulder.json`.
- **Tool calls**: Live monitoring of tool call activity with metadata.
- **Agent modes**: Clear display of agent execution modes (e.g., "prometheus mode=all").

## Installation

To install OCWatch, ensure you have Bun installed on your system. If you don't have Bun, install it with:

```bash
curl -fsSL https://bun.sh/install | bash
```

Then clone the repository and install dependencies:

```bash
git clone https://github.com/tomas/ocwatch.git
cd ocwatch
bun install
```

## Usage

Start the OCWatch development server:

```bash
bun run dev
```

The dashboard will be available at `http://localhost:3000`.

### Build for Production

```bash
bun run build
```

### Options

- `--project /path`: Specify the project directory for plan tracking.
- `--data-dir /path`: Path to a custom OpenCode data directory (default: `~/.local/share/Claude`).

## Requirements

- **OS**: macOS
- **Bun**: v1.0 or later
- **OpenCode**: Must be installed and running to generate logs.

## How it works

OCWatch works by monitoring the log files generated by OpenCode in `~/.local/share/Claude/log/`. It uses a custom parser to extract structured information from these logs, including:
- **Session IDs**: Correlating activity across different log lines.
- **Agent Modes**: Detecting when agents are running in specific modes like `prometheus`.
- **Tool Activity**: Monitoring which tools are being invoked.

The web dashboard is built with TypeScript and provides a responsive, real-time experience.

## Screenshot

[Screenshot to be added]
